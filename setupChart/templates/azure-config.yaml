apiVersion: v1
kind: ConfigMap
metadata:
  name: azure-clusterconfig
  namespace: azure-arc
data:
  AZURE_RESOURCE_NAME: {{ .Values.global.resourceName }}
  AZURE_SUBSCRIPTION_ID: {{ .Values.global.subscriptionId }}
  AZURE_TENANT_ID: {{ .Values.global.tenantId }}
  AZURE_CLIENT_ID: {{ .Values.global.clientId }}
  AZURE_RESOURCE_GROUP: {{ .Values.global.resourceGroupName }}
  AZURE_REGION: {{ .Values.global.location }}
  CLUSTER_TYPE: {{ index .Values "config-agent" "cluster_type" }}{{ if index .Values "config-agent" "dp_endpoint_override" }}
  DP_ENDPOINT_OVERRIDE: {{ index .Values "config-agent" "dp_endpoint_override" }}{{ end }}
  FLUX_CLIENT_DEFAULT_LOCATION: {{ index .Values "config-agent" "flux_client_default_location" }}
  AZURE_ARC_AGENT_VERSION: {{ tpl .Chart.Version . }}